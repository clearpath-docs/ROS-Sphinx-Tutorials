



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Launch Files &mdash; ROS Tutorials 0.5.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/clearpath.css" type="text/css" />
  

  
    <link rel="top" title="ROS Tutorials 0.5.1 documentation" href="index.html"/>
        <link rel="next" title="Udev Rules" href="Udev Rules.html"/>
        <link rel="prev" title="Creating a RQT Dashboard" href="Creating RQT Dashboard.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Start of clearpathrobotics Zendesk Widget script -->
<script>/*<![CDATA[​*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","clearpathrobotics.zendesk.com");/*​]]>*/</script>
<!-- End of clearpathrobotics Zendesk Widget script -->

<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-71565737-1', 'auto');
 ga('send', 'pageview');

</script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ROS Tutorials
          
          </a>
          
            
            <a href="http://www.clearpathrobotics.com/">
            <img src="_static/clearpathlogo.png" class="logo" />
          </a>
          
          

          
            
            
              <div class="version">
                0.5.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search..." />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="simple">
</ul>
<p class="caption"><span class="caption-text">Beginner</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Getting Started with Ubuntu.html">ROS 101: Getting Started with Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="Intro to the Robot Operating System.html">ROS 101: Intro to ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Practical Example.html">ROS 101: A Practical Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="Drive a Husky.html">ROS 101: Drive a Husky</a></li>
<li class="toctree-l1"><a class="reference internal" href="Drive a Grizzly.html">ROS 101: Drive a Grizzly</a></li>
</ul>
<p class="caption"><span class="caption-text">Intermediate</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Creating publisher.html">Creating a Workspace and Publisher</a></li>
<li class="toctree-l1"><a class="reference internal" href="Creating subscriber.html">Creating a Subscriber Using Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="Creating RQT Dashboard.html">Creating a RQT Dashboard</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Launch Files</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#roslaunch">ROSLAUNCH</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-a-launch-file">Writing a .launch File</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Udev Rules.html">Udev Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Driving Husky with ROSSerial.html">Driving Husky with ROSSerial</a></li>
<li class="toctree-l1"><a class="reference internal" href="ROS Parameter Server.html">ROS Parameter Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="ROS Navigation Basics.html">ROS Navigation Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Converting ROS bag to CSV.html">Converting ROS Bag to CSV</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Nodelet Everything.html">Nodelet Everything</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ROS Tutorials</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
     
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="http://support.clearpathrobotics.com">Home</a> &raquo;</li>
      
    <li>Launch Files</li>
      <li class="wy-breadcrumbs-aside">
        <div class="roslogo">
      </div>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="launch-files">
<h1>Launch Files<a class="headerlink" href="#launch-files" title="Permalink to this headline">¶</a></h1>
<p>Launch files are very common in ROS to both users and developers.  They provide a convenient way to start up multiple nodes and a master, as well as other initialization requirements such as setting parameters.</p>
<div class="section" id="roslaunch">
<h2>ROSLAUNCH<a class="headerlink" href="#roslaunch" title="Permalink to this headline">¶</a></h2>
<p><strong>roslaunch</strong> is used to open launch files. This can be done by either specifying the package the launch files are contained in followed by the name of the launch file, or by specifying the file path to the launch file.</p>
<div class="highlight-bash"><div class="highlight"><pre>roslaunch package_name launch_file
roslaunch ~/.../.../.../launch_file
</pre></div>
</div>
<p>Note: roslaunch will also start roscore if no master has been set. Pushing Ctrl-C in a terminal with a launch file running will close all nodes that were started with that launch files.</p>
</div>
<div class="section" id="writing-a-launch-file">
<h2>Writing a .launch File<a class="headerlink" href="#writing-a-launch-file" title="Permalink to this headline">¶</a></h2>
<p>Launch files are of the format .launch and use a specific XML format. They can be placed anywhere within a package directory, but it is common to make a directory named &#8220;Launch&#8221; inside the workspace directory to organize all your launch files. The contents of a launch file must be contained between a pair of launch tags</p>
<blockquote>
<div>&lt;launch&gt;
...
&lt;/launch&gt;</div></blockquote>
<p>To actually start a node, the &lt;node&gt; tags are used, the pkg, type and name argument are required.</p>
<blockquote>
<div>&lt;node pkg=&#8221;...&#8221; type=&#8221;...&#8221; name=&#8221;...&#8221; respawn=true ns=&#8221;...&#8221;/&gt;</div></blockquote>
<p><strong>pkg/type/name:</strong> The argument pkg points to the package associated with the node that is to be launched, while &#8220;type&#8221; refers to the name of the node executable file. It is also possible to overwrite the name of the node with the name argument, this will take priority over the name that is given to the node in the code.</p>
<p><strong>Respawn/Required:</strong> However optional, it&#8217;s common to either have a respawn argument or a required argument, but not both. If respawn=true, then this particular node will be restarted if for some reason it closed. Required=true will do the opposite, that is, it will shut down all the nodes associated with a launch file if this particular node comes down. There are other optional argument available on the <a class="reference external" href="http://wiki.ros.org/roslaunch/XML/node">ROS wiki</a>.</p>
<p><strong>ns:</strong> Another common use for a launch file is to launch a node inside a namespace. This is useful when using multiple instances of the same node. You can specify a namespace by using the &#8220;ns&#8221; argument.</p>
<p><strong>arg:</strong> Sometimes it is necessary to use a local variable in launch files. This can be done using</p>
<blockquote>
<div>&lt;arg name=&#8221;...&#8221; value=&#8221;...&#8221;&gt;</div></blockquote>
<p>Now let&#8217;s take a look at the launch file we use on our Husky&#8217;s on-board PC on startup to get things going.</p>
<div class="highlight-bash"><div class="highlight"><pre>&lt;launch&gt;
        &lt;arg <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;port&quot;</span> <span class="nv">default</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>optenv HUSKY_PORT /dev/prolific<span class="k">)</span><span class="s2">&quot;</span> /&gt;

        &lt;node <span class="nv">pkg</span><span class="o">=</span><span class="s2">&quot;clearpath_base&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;kinematic_node&quot;</span> <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;husky_kinematic&quot;</span> <span class="nv">ns</span><span class="o">=</span><span class="s2">&quot;husky&quot;</span>&gt;
                &lt;param <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;port&quot;</span> <span class="nv">value</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>arg port<span class="k">)</span><span class="s2">&quot;</span> /&gt;
                &lt;rosparam&gt;
                        cmd_fill: True
                        data:
                                system_status: 10
                                safety_status: 10
                                encoders: 10
                        differential_speed: 10
                        differential_output: 10
                                power_status: 1
                                &lt;/rosparam&gt;
                        &lt;/node&gt;

        &lt;!-- Publish diagnostics information from low-level MCU outputs --&gt;
        &lt;node <span class="nv">pkg</span><span class="o">=</span><span class="s2">&quot;husky_base&quot;</span> <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;husky_base_diagnostics&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;diagnostics_publisher&quot;</span> /&gt;

        &lt;!-- Publish wheel odometry from MCU encoder data --&gt;
        &lt;node <span class="nv">pkg</span><span class="o">=</span><span class="s2">&quot;husky_base&quot;</span> <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;husky_basic_odom&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;basic_odom_publisher&quot;</span> /&gt;

        &lt;!-- Diagnostic Aggregator --&gt;

        &lt;node <span class="nv">pkg</span><span class="o">=</span><span class="s2">&quot;diagnostic_aggregator&quot;</span> <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;aggregator_node&quot;</span> <span class="nv">name</span><span class="o">=</span><span class="s2">&quot;diagnostic_aggregator&quot;</span>&gt;
        &lt;rosparam <span class="nb">command</span><span class="o">=</span><span class="s2">&quot;load&quot;</span> <span class="nv">file</span><span class="o">=</span><span class="s2">&quot;</span><span class="k">$(</span>find husky_base<span class="k">)</span><span class="s2">/config/diagnostics.yaml&quot;</span>/&gt;
        &lt;/node&gt;
&lt;/launch&gt;
</pre></div>
</div>
<p>The first thing to notice is the &lt;launch&gt; tags which are required for all launch files. The next line finds what port Husky is connected to, and saves it to an argument named &#8220;port&#8221;. The node &#8220;kinematic_node&#8221; from the package&#8221;clearpath_base&#8221; is then started in the &#8220;husky&#8221; name space.</p>
<p>Parameters within the &lt;node&gt; tags are private to that namepace. The &#8220;port&#8221; argument that was defined earlier is set to the port parameter. Several other parameters are populated using the YAML format with &lt;parameter&gt; tags.</p>
<p>Along with the kinematic_node node, this launch file also starts husky_base_diagnositcs and husky_base_odom. You can see that the parameters for the diagnostics_aggregator node are loaded from a YAML file.</p>
<p>This should cover most of what you will need to write your own launch files, but for more information on launch files visit the <a class="reference external" href="http://wiki.ros.org/roslaunch/XML/node">ROS wiki</a>.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Udev Rules.html" class="btn btn-neutral float-right" title="Udev Rules" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Creating RQT Dashboard.html" class="btn btn-neutral" title="Creating a RQT Dashboard" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Clearpath Robotics.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.5.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>