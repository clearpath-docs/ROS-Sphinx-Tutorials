



<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating a RQT Dashboard &mdash; ROS Tutorials 0.5.1 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/clearpath.css" type="text/css" />
  

  
    <link rel="top" title="ROS Tutorials 0.5.1 documentation" href="index.html"/>
        <link rel="next" title="Launch Files" href="Launch Files.html"/>
        <link rel="prev" title="Creating a Subscriber Using Github" href="Creating subscriber.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

  <!-- Start of clearpathrobotics Zendesk Widget script -->
<script>/*<![CDATA[​*/window.zEmbed||function(e,t){var n,o,d,i,s,a=[],r=document.createElement("iframe");window.zEmbed=function(){a.push(arguments)},window.zE=window.zE||window.zEmbed,r.src="javascript:false",r.title="",r.role="presentation",(r.frameElement||r).style.cssText="display: none",d=document.getElementsByTagName("script"),d=d[d.length-1],d.parentNode.insertBefore(r,d),i=r.contentWindow,s=i.document;try{o=s}catch(c){n=document.domain,r.src='javascript:var d=document.open();d.domain="'+n+'";void(0);',o=s}o.open()._l=function(){var o=this.createElement("script");n&&(this.domain=n),o.id="js-iframe-async",o.src=e,this.t=+new Date,this.zendeskHost=t,this.zEQueue=a,this.body.appendChild(o)},o.write('<body onload="document._l();">'),o.close()}("https://assets.zendesk.com/embeddable_framework/main.js","clearpathrobotics.zendesk.com");/*​]]>*/</script>
<!-- End of clearpathrobotics Zendesk Widget script -->

<script>
 (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
 (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
 m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
 })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

 ga('create', 'UA-71565737-1', 'auto');
 ga('send', 'pageview');

</script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ROS Tutorials
          
          </a>
          
            
            <a href="http://www.clearpathrobotics.com/">
            <img src="_static/clearpathlogo.png" class="logo" />
          </a>
          
          

          
            
            
              <div class="version">
                0.5.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search..." />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="simple">
</ul>
<p class="caption"><span class="caption-text">Beginner</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Getting Started with Ubuntu.html">ROS 101: Getting Started with Ubuntu</a></li>
<li class="toctree-l1"><a class="reference internal" href="Intro to the Robot Operating System.html">ROS 101: Intro to ROS</a></li>
<li class="toctree-l1"><a class="reference internal" href="Practical Example.html">ROS 101: A Practical Example</a></li>
<li class="toctree-l1"><a class="reference internal" href="Drive a Husky.html">ROS 101: Drive a Husky</a></li>
<li class="toctree-l1"><a class="reference internal" href="Drive a Grizzly.html">ROS 101: Drive a Grizzly</a></li>
</ul>
<p class="caption"><span class="caption-text">Intermediate</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Creating publisher.html">Creating a Workspace and Publisher</a></li>
<li class="toctree-l1"><a class="reference internal" href="Creating subscriber.html">Creating a Subscriber Using Github</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Creating a RQT Dashboard</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="#a-practical-example">A Practical Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="#loading-a-perspective">Loading a Perspective</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Launch Files.html">Launch Files</a></li>
<li class="toctree-l1"><a class="reference internal" href="Udev Rules.html">Udev Rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="Driving Husky with ROSSerial.html">Driving Husky with ROSSerial</a></li>
<li class="toctree-l1"><a class="reference internal" href="ROS Parameter Server.html">ROS Parameter Server</a></li>
<li class="toctree-l1"><a class="reference internal" href="ROS Navigation Basics.html">ROS Navigation Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="Converting ROS bag to CSV.html">Converting ROS Bag to CSV</a></li>
</ul>
<p class="caption"><span class="caption-text">Advanced</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Nodelet Everything.html">Nodelet Everything</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ROS Tutorials</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
     
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="http://support.clearpathrobotics.com">Home</a> &raquo;</li>
      
    <li>Creating a RQT Dashboard</li>
      <li class="wy-breadcrumbs-aside">
        <div class="roslogo">
      </div>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-a-rqt-dashboard">
<h1>Creating a RQT Dashboard<a class="headerlink" href="#creating-a-rqt-dashboard" title="Permalink to this headline">¶</a></h1>
<p>After working in the terminal, gazebo and RViz, it&#8217;s time for a change of pace. For this tutorial we will be detailing the basics of creating your own rqt dashboard! A dashboard is a single rqt window with one or more plugins displayed in movable, resizable frames. Dashboards generally consist of a number of plugins that in combination provide a suite of UI capabilities for working with robots and robot data.</p>
<p>Dashboards can be populated and configured interactively in an rqt session. A preferred configuration can be saved as a &#8220;Perspective&#8221;, which saves the plugins loaded, their layout, and where supported, their settings and last-saved initial parameters (such as what topic we were last plotting). In this tutorial we will be working with the Husky simulation in ROS Indigo. To install ROS Indigo, please <a class="reference external" href="http://wiki.ros.org/indigo/Installation/Ubuntu">see these instructions</a>, and visit our <a class="reference external" href="http://wiki.ros.org/Robots/Husky">Husky page</a> to install the Husky simulation.</p>
<div class="section" id="getting-started">
<h2>Getting Started<a class="headerlink" href="#getting-started" title="Permalink to this headline">¶</a></h2>
<p>The first step is to install rqt! We will also be installing some common plugins to create our dashboard</p>
<div class="highlight-bash"><div class="highlight"><pre>sudo apt-get install ros-indigo-rqt ros-indigo-rqt-common-plugins ros-indigo-rqt-robot-plugins
</pre></div>
</div>
<p>We can then launch RQT by simply using:</p>
<div class="highlight-bash"><div class="highlight"><pre>roscore
</pre></div>
</div>
<p>And then in a new terminal tab we can launch rqt</p>
<div class="highlight-bash"><div class="highlight"><pre>rqt
</pre></div>
</div>
<p>In the Plugins menu, select each plugin you want to load. You can change the layout by dragging and rescaling each plugin by its title bar or edges.</p>
<a class="reference internal image-reference" href="_images/pluginselection.png"><img alt="_images/pluginselection.png" src="_images/pluginselection.png" style="width: 308.5px; height: 260.0px;" /></a>
</div>
<div class="section" id="a-practical-example">
<h2>A Practical Example<a class="headerlink" href="#a-practical-example" title="Permalink to this headline">¶</a></h2>
<p>We&#8217;ll now create a rqt dashboard with a few useful plugins and demonstrate a potential use case for this particular dashboard. For this tutorial we&#8217;ll be using our virtual Husky to simulate sensor data. Open Husky up in Gazebo using:</p>
<div class="highlight-bash"><div class="highlight"><pre>roslaunch husky_gazebo husky_playpen.launch
</pre></div>
</div>
<p>You can mimize Gazebo for now as we set up our rqt dashboard. Begin by opening the following plugins from the plugins drop down menu, and re-size them as you like,</p>
<ul class="simple">
<li>Rviz</li>
<li>Plot x2</li>
<li>Bag</li>
<li>Robot Steering</li>
</ul>
<a class="reference internal image-reference" href="_images/With_Plugins.png"><img alt="_images/With_Plugins.png" src="_images/With_Plugins.png" style="width: 960.0px; height: 540.0px;" /></a>
<p>Each plugin has their own uses and settings, for more information about a particular plugin, visit the <a class="reference external" href="http://wiki.ros.org/rqt/Plugins">rqt plugins page of the ROS Wiki</a>.</p>
<p>When you&#8217;re happy with a dashboard configuration, you can save the perspective by selecting <strong>Perspectives &gt; Create Perspective,</strong> giving it a name, and asking it to clone the current perspective. These perspectives are saved locally and persist between sessions.</p>
<p>To export a perspective for closer management such as sharing or persisting to a repository, select <strong>Perspectives &gt; Export</strong> and give it a name with the filename extension, .perspective.</p>
</div>
<div class="section" id="loading-a-perspective">
<h2>Loading a Perspective<a class="headerlink" href="#loading-a-perspective" title="Permalink to this headline">¶</a></h2>
<p>A perspective can be loaded interactively in RQT by selecting Perspectives, import. However it&#8217;s useful to launch them directly from the command-line, which allows us to wrap them in a script that can be rosrun or roslaunched:</p>
<div class="highlight-bash"><div class="highlight"><pre>rqt --perspective-file <span class="s2">&quot;</span><span class="k">$(</span>rospack find my_ros_rqt_package<span class="k">)</span><span class="s2">/config/my_dashboard.perspective&quot;</span>
</pre></div>
</div>
<p>Some plugins allow you to configure options that impact its installation and behavior. For example, the <strong>Python Console</strong> plugin allows you to choose which console implementation to use. You can access these options for any plugin by selecting the gear icon in its title bar. If no gear icon is present, the plugin has not been configured to provide an options menu.</p>
<p><strong>Rviz:</strong> To load Husky into your Rviz plugin, select <strong>open config</strong> from the drop down menu, and navigate to <strong>/opt/ros/indigo/share/husky_viz/rviz/view_robot.rviz</strong>. You should now see a model of Husky loaded in Rviz! By default, this config file will include the simulated laser, and you can see the object in Husky&#8217;s path in the Gazebo environment.</p>
<a class="reference internal image-reference" href="_images/load_config_rqt.png"><img alt="_images/load_config_rqt.png" src="_images/load_config_rqt.png" style="width: 960.0px; height: 540.0px;" /></a>
<a class="reference internal image-reference" href="_images/with_plugins_Gazebo.png"><img alt="_images/with_plugins_Gazebo.png" src="_images/with_plugins_Gazebo.png" style="width: 960.0px; height: 540.0px;" /></a>
<p><strong>Plot:</strong> The Plot tool is useful to plot a particular topic in real time, for this example we will be plotting the commanded odometery topic versus the simulated odometrey. In the input window on the top right of the plot plugin, add the follow topic in each plot.</p>
<p>/odometry/filtered/twist/twist/angular/z</p>
<p>and</p>
<p>/husky_velocity_controller/odom/twist/twist/angular/z</p>
<p><strong>Robot Steering:</strong> The robot steering plugin provides us with a simple way to manually drive Husky, all that is required is to specify the topic which accepts the velocity commands to move your Robot, for our virtual Husky, that topic is <strong>/cmd_vel</strong>.</p>
<p>It&#8217;s time to put it together! Try commanding Husky to turn in place using the robot steering plugin, and watch your Husky is RViz spin in place while it&#8217;s updating the laser scan! You should also see the commanded odometry in one of your plots, while the actual odometry lags slightly behind as it catches up to the desired value.</p>
<a class="reference internal image-reference" href="_images/graph_topics.png"><img alt="_images/graph_topics.png" src="_images/graph_topics.png" style="width: 960.0px; height: 540.0px;" /></a>
<p><strong>Rqt bag</strong>: Rosbag is an extremely useful tool  for logging, and our support team may often ask for a bag file to take a closer look at your system. It&#8217;s possible to record a bag through the terminal, but using rqt is much simpler and more intuitive. Let&#8217;s record  a bag file of Husky driving around by clicking the record button, and selecting the topics you want to record. Once you&#8217;re happy with the data recorded, stop the recording.</p>
<p>Playing a bag file back is just as simple. Let&#8217;s go ahead and close rqt and Gazebo so ROS is no longer running, then start ROS again with just roscore</p>
<div class="highlight-bash"><div class="highlight"><pre>roscore
</pre></div>
</div>
<p>And open rqt back up and load the ROS bag plugin again</p>
<div class="highlight-bash"><div class="highlight"><pre>rqt
</pre></div>
</div>
<p>This time we are going to open up the bag file we just recorded by clicking the 2nd button. You&#8217;ll now see all the topics that were recorded, and when messages were sent over that topic. You can take a closer look at a particular ticket by right clicking and selecting to view either the values or plot a particular topic.</p>
<a class="reference internal image-reference" href="_images/Bag_reply.png"><img alt="_images/Bag_reply.png" src="_images/Bag_reply.png" style="width: 960.0px; height: 540.0px;" /></a>
<p>For more information regarding rqt, please visit the <a class="reference external" href="http://wiki.ros.org/rqt">ROS Wiki page</a>, if you have any questions regarding this particular tutorial, please don&#8217;t hesitate to contact us!</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Launch Files.html" class="btn btn-neutral float-right" title="Launch Files" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Creating subscriber.html" class="btn btn-neutral" title="Creating a Subscriber Using Github" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, Clearpath Robotics.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.5.1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>